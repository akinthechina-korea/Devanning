1) ì¤€ë¹„ë¬¼ & í´ë” êµ¬ì„±

Python 3.8+ ì„¤ì¹˜ (Windows/macOS/Linux ëª¨ë‘ ê°€ëŠ¥)

ì´ë¯¸ì§€ íŒŒì¼ì„ í•œ í´ë”ì— ëª¨ìœ¼ê¸°: ì˜ˆë¥¼ ë“¤ì–´ pages/

ê¶Œì¥ íŒŒì¼ëª…: 0001.jpg, 0002.jpg, â€¦ 3000.jpg ì²˜ëŸ¼ ìì—° ì •ë ¬ì´ ë˜ë„ë¡ ìë¦¿ìˆ˜ ë§ì¶”ê¸°

PNGë„ ê°€ëŠ¥í•˜ì§€ë§Œ, ìš©ëŸ‰ì´ í¬ë©´ JPGë¡œ ë°”ê¾¸ëŠ” ê²Œ ìœ ë¦¬

í´ë” ì˜ˆì‹œ:

project/
 â”œâ”€ merge_images_to_pdf.py   # (ì•„ë˜ ì˜¬ì¸ì› ìŠ¤í¬ë¦½íŠ¸)
 â””â”€ pages/
     â”œâ”€ 0001.jpg
     â”œâ”€ 0002.jpg
     â””â”€ ...

2) í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
pip install img2pdf pillow tqdm


img2pdf: ë¬´ì†ì‹¤ì— ê°€ê¹ê²Œ, ì•„ì£¼ ë¹ ë¥´ê²Œ ì´ë¯¸ì§€â†’PDF (ì´ë¯¸ì§€ë¥¼ ë©”ëª¨ë¦¬ì— ëª¨ë‘ ì˜¬ë¦¬ì§€ ì•Šê³  ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬)

Pillow: RGBA(íˆ¬ëª… PNG) â†’ RGB ë³€í™˜, JPG ì¬ì••ì¶• ë“± ì „ì²˜ë¦¬ì— ì‚¬ìš©

tqdm: ì§„í–‰ë¥  í‘œì‹œ

íšŒì‚¬/ê°œì¸ PC ì •ì±…ìƒ ì „ì—­ ì„¤ì¹˜ê°€ ì–´ë µë‹¤ë©´ python -m venv .venv && .venv\Scripts\activate(Windows) ë˜ëŠ” source .venv/bin/activate(macOS/Linux)ë¡œ ê°€ìƒí™˜ê²½ì„ ë§Œë“  ë’¤ ì„¤ì¹˜í•˜ì„¸ìš”.

3) í˜ì´ì§€ í¬ê¸°/í•´ìƒë„ ì„ íƒ ê°€ì´ë“œ

ì›ë³¸ í¬ê¸° ìœ ì§€(ê¸°ë³¸): ê° ì´ë¯¸ì§€ì˜ í”½ì…€ í¬ê¸°ë¥¼ ê·¸ëŒ€ë¡œ PDFì˜ í¬ì¸íŠ¸ë¡œ ë§¤í•‘. ê°€ì¥ ë¹ ë¥´ê³  ì„ ëª…í•¨.

A4ë¡œ ë§ì¶”ê¸°(ì˜µì…˜): ì¸ì‡„ìš©ì´ë©´ A4/Letter ë“± ê³ ì • í¬ê¸°ë¡œ ê°•ì œ ë°°ì¹˜ ê°€ëŠ¥.

ì—¬ë°±/ë§ì¶¤(ì˜µì…˜): ê½‰ ì±„ìš°ê¸°(fill) / ì—¬ë°± ìœ ì§€(contain) ì„ íƒ ê°€ëŠ¥.

ëŒ€ìš©ëŸ‰(3000ì¥)ì—ì„œë„ img2pdfëŠ” ë‚®ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ìœ¼ë¡œ ì•ˆì •ì ì…ë‹ˆë‹¤.

4) ì†ë„/ìš©ëŸ‰ ìµœì í™” íŒ

JPG ê¶Œì¥: PNG(íŠ¹íˆ ìŠ¤í¬ë¦°ìƒ·)ëŠ” ìš©ëŸ‰ì´ í¼ â†’ quality=85~92ë¡œ JPG ë³€í™˜ ì‹œ ìš©ëŸ‰ í¬ê²Œ ì ˆê°, ì‹œê°ì  ì°¨ì´ ì ìŒ.

ì‚¬ì „ ì••ì¶• í›„ ë³‘í•©: PNGâ†’JPGë¡œ í•œ ë²ˆ ë³€í™˜í•œ ë’¤ PDF ë³‘í•©í•˜ë©´ ìµœì¢… PDF ìš©ëŸ‰ì´ í™• ì¤„ì–´ë“­ë‹ˆë‹¤.

ë””ìŠ¤í¬ ì†ë„ê°€ ë³‘ëª©ì¸ ê²½ìš°ê°€ ë§ìœ¼ë‹ˆ, SSDë¥¼ ì‚¬ìš©í•˜ê³  ë¡œì»¬ ë“œë¼ì´ë¸Œì—ì„œ ì²˜ë¦¬í•˜ì„¸ìš”.

5) ì‹¤íŒ¨Â·ì˜¤ë¥˜ ëŒ€ì²˜

íˆ¬ëª… PNG(RGBA): PDFëŠ” ì¼ë°˜ì ìœ¼ë¡œ íˆ¬ëª… í”½ì…€ì„ ì§€ì›í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ RGBë¡œ ë³€í™˜ í•„ìš” â†’ ì•„ë˜ ì˜¬ì¸ì› ìŠ¤í¬ë¦½íŠ¸ê°€ ìë™ ì²˜ë¦¬

íŒŒì¼ëª… ì •ë ¬ ê¼¬ì„: 1.jpg, 10.jpg, 2.jpgì²˜ëŸ¼ ë˜ë©´ í˜ì´ì§€ ìˆœì„œ ë’¤ì£½ë°•ì£½ â†’ ìë¦¿ìˆ˜ ë§ì¶”ê±°ë‚˜ ìì—° ì •ë ¬ ì ìš©(ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¥)

ê¶Œí•œ/ê²½ë¡œ ë¬¸ì œ: ì¶œë ¥ PDFë¥¼ ì—´ì–´ë‘” ìƒíƒœì—ì„œ ë®ì–´ì“°ë©´ ì‹¤íŒ¨. ì €ì¥ ê²½ë¡œì— í•œê¸€/ê³µë°± ê´œì°®ì§€ë§Œ, ë„ˆë¬´ ê¸´ ê²½ë¡œëŠ” í”¼í•˜ê¸°

ë©”ëª¨ë¦¬ ë¶€ì¡±?: img2pdfëŠ” ìŠ¤íŠ¸ë¦¬ë°ì´ì–´ì„œ ì¼ë°˜ì ìœ¼ë¡œ ë“œë­…ë‹ˆë‹¤. ê·¸ë˜ë„ ë¬¸ì œë©´ ë°°ì¹˜(ë¶„ê¶Œ) ë³‘í•© í›„ Ghostscript/pdftkë¡œ ìµœì¢… í•©ì¹˜ê¸° ê¶Œì¥.

6) ì‹¤í–‰ ë°©ë²•(ìš”ì•½)

ì•„ë˜ ì˜¬ì¸ì› ìŠ¤í¬ë¦½íŠ¸ë¥¼ merge_images_to_pdf.pyë¡œ ì €ì¥

pages/ í´ë”ì— ì´ë¯¸ì§€ ë„£ê¸°

í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰:

python merge_images_to_pdf.py


ê²°ê³¼: output/merged_3000pages.pdf

7) (ì„ íƒ) ì¸ì‡„ìš© A4 ê°•ì œ, ì—¬ë°±/ë§ì¶¤ ì •ì±…

A4 ê°•ì œ: ëª¨ë“  í˜ì´ì§€ í¬ê¸°ë¥¼ A4ë¡œ í†µì¼

ë§ì¶¤ ì •ì±…

contain(ê¸°ë³¸): ì´ë¯¸ì§€ ë¹„ìœ¨ ìœ ì§€, ë‚¨ëŠ” ë¶€ë¶„ ì—¬ë°±

fill: ê½‰ ì±„ìš°ë˜ ì˜ë¦´ ìˆ˜ ìˆìŒ

ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ì˜ ì„¤ì • ì„¹ì…˜ì—ì„œ ì†ì‰½ê²Œ ë°”ê¿€ ìˆ˜ ìˆê²Œ í–ˆìŠµë‹ˆë‹¤.

ğŸ”¥ ì‹¤ë¬´ìš© ì˜¬ì¸ì› ìŠ¤í¬ë¦½íŠ¸ (í•œ ë¸”ë¡)

ìì—° ì •ë ¬ / RGBAâ†’RGB ìë™ ë³€í™˜ / PNGâ†’JPG ì‚¬ì „ ì••ì¶•(ì˜µì…˜) / A4 ê°•ì œ(ì˜µì…˜) / ì§„í–‰ë¥ í‘œì‹œ / ì˜ˆì™¸ì²˜ë¦¬ í¬í•¨

import os
import re
import sys
from io import BytesIO
from typing import List, Tuple

import img2pdf
from PIL import Image
from tqdm import tqdm

# =========================
# ğŸ”§ ì„¤ì • (í•„ìš”ì‹œë§Œ ì¡°ì •)
# =========================
INPUT_DIR = "pages"                    # ì´ë¯¸ì§€ê°€ ë“¤ì–´ìˆëŠ” í´ë”
OUTPUT_DIR = "output"                  # ê²°ê³¼ PDF ì €ì¥ í´ë”
OUTPUT_PDF = "merged_3000pages.pdf"    # ê²°ê³¼ íŒŒì¼ëª…

ALLOW_EXT = (".jpg", ".jpeg", ".png", ".webp", ".tif", ".tiff")

# (ì˜µì…˜1) ì¸ì‡„ìš©ìœ¼ë¡œ A4 ê°•ì œ ë§ì¶¤í• ì§€ ì—¬ë¶€
FORCE_A4 = False    # Trueë©´ ëª¨ë“  í˜ì´ì§€ë¥¼ A4ë¡œ ê°•ì œ
A4_WIDTH_MM = 210
A4_HEIGHT_MM = 297
FIT_POLICY = "contain"  # "contain" or "fill"

# (ì˜µì…˜2) PNG/WEBP ë“±ì„ JPGë¡œ ì‚¬ì „ ë³€í™˜í•˜ì—¬ ìš©ëŸ‰ ì¤„ì´ê¸°
PRECOMPRESS_TO_JPG = False
JPG_QUALITY = 88  # 75~92 ê¶Œì¥

# (ì˜µì…˜3) ë„ˆë¬´ í° ì´ë¯¸ì§€ë¥¼ ì‚¬ì „ì— ë¦¬ì‚¬ì´ì¦ˆ(ì˜ˆ: ê¸´ ë³€ 3000px)
MAX_LONG_EDGE = None  # ì˜ˆ: 3000  (Noneì´ë©´ ë¦¬ì‚¬ì´ì¦ˆ ì•ˆí•¨)

# =========================
# ğŸ‘‡ êµ¬í˜„ë¶€ (ìˆ˜ì • ë¶ˆí•„ìš”)
# =========================

def natural_key(s: str):
    # "page12.jpg" -> ["page", 12, ".jpg"]ë¡œ ë¶„í•´í•˜ì—¬ ì‚¬ëŒì²˜ëŸ¼ ì •ë ¬
    return [int(t) if t.isdigit() else t.lower() for t in re.split(r"(\d+)", s)]

def list_images(input_dir: str, allow_ext: Tuple[str, ...]) -> List[str]:
    files = []
    for name in os.listdir(input_dir):
        if name.lower().endswith(allow_ext):
            files.append(os.path.join(input_dir, name))
    files.sort(key=lambda p: natural_key(os.path.basename(p)))
    return files

def ensure_dir(path: str):
    os.makedirs(path, exist_ok=True)

def convert_rgba_to_rgb(im: Image.Image) -> Image.Image:
    if im.mode in ("RGBA", "LA"):
        bg = Image.new("RGB", im.size, (255, 255, 255))
        bg.paste(im, mask=im.split()[-1])
        return bg
    elif im.mode != "RGB":
        return im.convert("RGB")
    return im

def resize_if_needed(im: Image.Image) -> Image.Image:
    if MAX_LONG_EDGE is None:
        return im
    w, h = im.size
    long_edge = max(w, h)
    if long_edge <= MAX_LONG_EDGE:
        return im
    scale = MAX_LONG_EDGE / long_edge
    new_size = (int(w * scale), int(h * scale))
    return im.resize(new_size, Image.LANCZOS)

def precompress_to_jpg(path: str) -> bytes:
    with Image.open(path) as im:
        im = convert_rgba_to_rgb(im)
        im = resize_if_needed(im)
        bio = BytesIO()
        im.save(bio, format="JPEG", quality=JPG_QUALITY, optimize=True, progressive=True)
        return bio.getvalue()

def load_as_rgb_bytes(path: str) -> bytes:
    """PNG/WEBPì˜ íˆ¬ëª…Â·ìƒ‰ê³µê°„ ë¬¸ì œë¥¼ ë°©ì§€í•˜ë©´ì„œ JPEGë¡œ ë©”ëª¨ë¦¬ ìƒ ë³€í™˜(ë¬´ì†ì‹¤ ì•„ë‹˜).
       PRECOMPRESS_TO_JPG=Falseë©´ ì›ë³¸ í¬ë§· ìœ ì§€(BMP/TIFF ì œì™¸)"""
    ext = os.path.splitext(path)[1].lower()
    if PRECOMPRESS_TO_JPG or ext in (".webp", ".tif", ".tiff"):
        return precompress_to_jpg(path)
    # JPEG/PNG ë“±ì€ ì›ë³¸ ê·¸ëŒ€ë¡œ ë°”ì´íŠ¸ë¡œ ì½ë˜, RGBAëŠ” Pillowë¡œ RGB ë³€í™˜
    # ë‹¨, img2pdfëŠ” PNG ì•ŒíŒŒ ì§€ì›ì´ ì œí•œì ì´ë¯€ë¡œ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬
    with Image.open(path) as im:
        if im.mode in ("RGBA", "LA") or ext in (".png",):
            im = convert_rgba_to_rgb(im)
            im = resize_if_needed(im)
            bio = BytesIO()
            # PNGë¥¼ ê·¸ëŒ€ë¡œ ë„£ê³  ì‹¶ë‹¤ë©´ ì—¬ê¸°ì„œ PNGë¡œ ì €ì¥ ê°€ëŠ¥í•˜ì§€ë§Œ
            # í˜¸í™˜ì„±/ìš©ëŸ‰ì„ ìœ„í•´ JPEGë¡œ ì €ì¥
            im.save(bio, format="JPEG", quality=JPG_QUALITY, optimize=True, progressive=True)
            return bio.getvalue()
    # ì•ŒíŒŒê°€ ì—†ê³  JPEGë¼ë©´ ì›ë³¸ ë°”ì´íŠ¸ ì‚¬ìš©
    with open(path, "rb") as f:
        return f.read()

def get_layout_fun():
    if not FORCE_A4:
        return None
    page_w = img2pdf.mm_to_pt(A4_WIDTH_MM)
    page_h = img2pdf.mm_to_pt(A4_HEIGHT_MM)
    size = (page_w, page_h)

    if FIT_POLICY == "fill":
        # ì´ë¯¸ì§€ë¥¼ í˜ì´ì§€ì— ê½‰ ì±„ìš°ë˜ ì˜ë¦´ ìˆ˜ ìˆìŒ
        return img2pdf.get_layout_fun(size, img2pdf.ImageFit.fill)
    # ê¸°ë³¸: ë¹„ìœ¨ ìœ ì§€, ë‚¨ëŠ” ê³µê°„ ì—¬ë°±
    return img2pdf.get_layout_fun(size, img2pdf.ImageFit.contain)

def main():
    if not os.path.isdir(INPUT_DIR):
        print(f"âŒ ì…ë ¥ í´ë”ê°€ ì—†ìŠµë‹ˆë‹¤: {INPUT_DIR}")
        sys.exit(1)

    ensure_dir(OUTPUT_DIR)
    out_path = os.path.join(OUTPUT_DIR, OUTPUT_PDF)

    images = list_images(INPUT_DIR, ALLOW_EXT)
    if not images:
        print(f"âŒ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤: {INPUT_DIR} (í™•ì¥ì: {', '.join(ALLOW_EXT)})")
        sys.exit(1)

    print(f"ğŸ“‚ ì…ë ¥ í´ë”: {INPUT_DIR}")
    print(f"ğŸ–¼ï¸  ì´ë¯¸ì§€ ê°œìˆ˜: {len(images)}")
    print(f"ğŸ“„ ì¶œë ¥ íŒŒì¼: {out_path}")
    if FORCE_A4:
        print(f"ğŸ“ í˜ì´ì§€ í¬ê¸°: A4 {A4_WIDTH_MM}Ã—{A4_HEIGHT_MM}mm, fit={FIT_POLICY}")
    if PRECOMPRESS_TO_JPG:
        print(f"ğŸ—œï¸  ì‚¬ì „ ì••ì¶•: JPG quality={JPG_QUALITY}")
    if MAX_LONG_EDGE:
        print(f"ğŸ”§ ë¦¬ì‚¬ì´ì¦ˆ: ê¸´ ë³€ {MAX_LONG_EDGE}px")

    # ê°œë³„ ì´ë¯¸ì§€ë¥¼ ë©”ëª¨ë¦¬ì— ì „ë¶€ ì˜¬ë¦¬ì§€ ì•Šê³ , í•œ ì¥ì”© ì²˜ë¦¬í•˜ì—¬ ìŠ¤íŠ¸ë¦¬ë° ë³€í™˜
    bytes_list = []
    for p in tqdm(images, desc="Converting", unit="img"):
        try:
            img_bytes = load_as_rgb_bytes(p)
            bytes_list.append(img_bytes)
        except Exception as e:
            print(f"\nâš ï¸ ë³€í™˜ ì‹¤íŒ¨: {p} -> {e}")
            sys.exit(1)

    layout_fun = get_layout_fun()

    try:
        with open(out_path, "wb") as f:
            if layout_fun:
                f.write(img2pdf.convert(bytes_list, layout_fun=layout_fun))
            else:
                f.write(img2pdf.convert(bytes_list))
    except Exception as e:
        print(f"âŒ PDF ë³‘í•© ì‹¤íŒ¨: {e}")
        sys.exit(1)

    print(f"âœ… ì™„ë£Œ: {out_path}")

if __name__ == "__main__":
    main()

8) ëŒ€ëŸ‰(ìˆ˜ë§Œ ì¥) ì²˜ë¦¬ ì‹œ ì „ëµ

**ë¶„ê¶Œ(ì˜ˆ: 500ì¥ì”©)**ìœ¼ë¡œ ë‚˜ëˆ  ì—¬ëŸ¬ PDF ìƒì„± â†’ ë§ˆì§€ë§‰ì— pdftk/qpdf/Ghostscriptë¡œ ìµœì¢… ë³‘í•©

ì˜ˆ:

pdftk part_*.pdf cat output merged.pdf


ì´ ë°©ì‹ì€ ì‹¤íŒ¨ ì§€ì  ë³µêµ¬ì™€ ë³‘ë ¬ ì²˜ë¦¬ê°€ ì‰¬ì›Œì§‘ë‹ˆë‹¤.